CREATE TABLE `RAG_DIALOGUE` (
  `id` int NOT NULL AUTO_INCREMENT,
  `parent_node` varchar(255) DEFAULT NULL,
  `create_at` datetime DEFAULT NULL,
  `note` varchar(255) DEFAULT NULL,
  `dialogue_type` varchar(255) DEFAULT NULL,
  `dialogue_destination` varchar(255) DEFAULT NULL,
  `event_type` varchar(255) DEFAULT NULL,
  `event_webhook_event_id` varchar(255) DEFAULT NULL,
  `event_timestamp` varchar(255) DEFAULT NULL,
  `event_source_type` varchar(255) DEFAULT NULL,
  `event_source_user_id` varchar(255) DEFAULT NULL,
  `event_reply_token` varchar(255) DEFAULT NULL,
  `event_mode` varchar(255) DEFAULT NULL,
  `message_type` varchar(255) DEFAULT NULL,
  `message_id` varchar(255) DEFAULT NULL,
  `message_quote_token` varchar(255) DEFAULT NULL,
  `message_text` longtext,
  `message_sticker_id` varchar(255) DEFAULT NULL,
  `message_package_id` varchar(255) DEFAULT NULL,
  `message_sticker_resource_type` varchar(255) DEFAULT NULL,
  `message_content_provider_type` varchar(255) DEFAULT NULL,
  `message_file_name` varchar(255) DEFAULT NULL,
  `message_file_size` varchar(255) DEFAULT NULL,
  `message_file_extension` varchar(255) DEFAULT NULL,
  `message_file_content_provider_type` varchar(255) DEFAULT NULL,
  `file_id` bigint DEFAULT NULL,
  `message_emojis` varchar(255) DEFAULT NULL,
  `message_mention` varchar(255) DEFAULT NULL,
  `message_quoted_message_id` varchar(255) DEFAULT NULL,
  `is_dialogue_useful` tinyint(1) DEFAULT NULL,
  `manager_id` varchar(255) DEFAULT NULL,
  `manager_comment` varchar(255) DEFAULT NULL,
  `is_manager_read` tinyint(1) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE `RAG_FILE_SYSTEM` (
  `id` int NOT NULL AUTO_INCREMENT,
  `user_id` varchar(255) DEFAULT NULL,
  `file_name` varchar(255) DEFAULT NULL,
  `file_path` varchar(255) DEFAULT NULL,
  `file_size` varchar(255) DEFAULT NULL,
  `file_extension` varchar(255) DEFAULT NULL,
  `file_status` varchar(255) DEFAULT NULL,
  `create_at` datetime DEFAULT NULL,
  `note` varchar(255) DEFAULT NULL,
  `uuid_name` varchar(255) DEFAULT NULL,
  `azure_container_name` varchar(255) DEFAULT NULL,
  `azure_blob_name` varchar(255) DEFAULT NULL,
  `file_purpose` varchar(255) DEFAULT NULL,
  `is_file_useful` tinyint(1) DEFAULT NULL,
  `manager_id` varchar(255) DEFAULT NULL,
  `manager_comment` varchar(255) DEFAULT NULL,
  `censor_status` int DEFAULT NULL,
  `ocr_status` int DEFAULT NULL,
  `ocr_text` longtext,
  `knowledge_department` varchar(255) DEFAULT NULL,
  `knowledge_professor` varchar(255) DEFAULT NULL,
  `knowledge_course` varchar(255) DEFAULT NULL,
  `knowledge_year` varchar(255) DEFAULT NULL,
  `question_department` varchar(255) DEFAULT NULL,
  `question_professor` varchar(255) DEFAULT NULL,
  `question_course` varchar(255) DEFAULT NULL,
  `question_year` varchar(255) DEFAULT NULL,
  `question_semester` varchar(255) DEFAULT NULL,
  `question_exam_type` varchar(255) DEFAULT NULL,
  `question_exam_question_type` int DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE `RAG_POST` (
  `id` int NOT NULL AUTO_INCREMENT,
  `raw_text` longtext,
  `post_type` varchar(255) DEFAULT NULL,
  `poster_uid` varchar(255) DEFAULT NULL,
  `post_id` varchar(255) DEFAULT NULL,
  `create_at` datetime DEFAULT NULL,
  `modify_at` datetime DEFAULT NULL,
  `tags` int DEFAULT NULL,
  `note` varchar(255) DEFAULT NULL,
  `origin_msg_id` varchar(255) DEFAULT NULL,
  `origin_chat_id` varchar(255) DEFAULT NULL,
  `origin_action_chat_id` varchar(255) DEFAULT NULL,
  `origin_action_msg_id` varchar(255) DEFAULT NULL,
  `review_chat_id` varchar(255) DEFAULT NULL,
  `review_msg_id` varchar(255) DEFAULT NULL,
  `review_action_chat_id` varchar(255) DEFAULT NULL,
  `review_action_msg_id` varchar(255) DEFAULT NULL,
  `public_msg_id` varchar(255) DEFAULT NULL,
  `warn_text_id` varchar(255) DEFAULT NULL,
  `anonymous` tinyint(1) DEFAULT NULL,
  `text` longtext,
  `channel_id` varchar(255) DEFAULT NULL,
  `channel_msg_id` varchar(255) DEFAULT NULL,
  `status` varchar(255) DEFAULT NULL,
  `origin_media_group_id` varchar(255) DEFAULT NULL,
  `review_media_group_id` varchar(255) DEFAULT NULL,
  `publish_media_group_id` varchar(255) DEFAULT NULL,
  `has_spoiler` tinyint(1) DEFAULT NULL,
  `reject_reason` varchar(255) DEFAULT NULL,
  `count_reject` tinyint(1) DEFAULT NULL,
  `reviewer_uid` bigint DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE `RAG_USER` (
  `id` int NOT NULL AUTO_INCREMENT,
  `user_id` varchar(255) DEFAULT NULL,
  `openai_api_key` varchar(255) DEFAULT NULL,
  `status` varchar(255) DEFAULT NULL,
  `post_count` int DEFAULT NULL,
  `follow_groups` bigint DEFAULT NULL,
  `last_chat_category` varchar(255) DEFAULT NULL,
  `last_chat_status` varchar(255) DEFAULT NULL,
  `last_chat_content` varchar(255) DEFAULT NULL,
  `last_chat_reply` varchar(255) DEFAULT NULL,
  `last_postback_course_reply` varchar(255) DEFAULT NULL,
  `last_postback_professor_reply` varchar(255) DEFAULT NULL,
  `last_postback_exam_type_reply` varchar(255) DEFAULT NULL,
  `last_generated_question` longtext,
  `feedbacks` longtext,
  `create_at` datetime DEFAULT NULL,
  `modify_at` datetime DEFAULT NULL,
  `note` varchar(255) DEFAULT NULL,
  `group_id` varchar(255) DEFAULT NULL,
  `user_name` varchar(255) DEFAULT NULL,
  `first_name` varchar(255) DEFAULT NULL,
  `last_name` varchar(255) DEFAULT NULL,
  `is_ban` tinyint(1) DEFAULT NULL,
  `is_bot` tinyint(1) DEFAULT NULL,
  `is_vip` tinyint(1) DEFAULT NULL,
  `prefer_anonymous` tinyint(1) DEFAULT NULL,
  `notification` tinyint(1) DEFAULT NULL,
  `accept_count` int DEFAULT NULL,
  `reject_count` int DEFAULT NULL,
  `expired_post_count` int DEFAULT NULL,
  `review_count` int DEFAULT NULL,
  `experience` bigint DEFAULT NULL,
  `level` int DEFAULT NULL,
  `private_chat_id` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `user_id` (`user_id`)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE `RAG_QUESTIONS` (
  `id` int NOT NULL AUTO_INCREMENT,
  `file_id` varchar(255) DEFAULT NULL,
  `number_in_file` varchar(255) DEFAULT NULL,
  `type` varchar(255) DEFAULT NULL,
  `raw_text` longtext,
  `reference_answer` longtext,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
